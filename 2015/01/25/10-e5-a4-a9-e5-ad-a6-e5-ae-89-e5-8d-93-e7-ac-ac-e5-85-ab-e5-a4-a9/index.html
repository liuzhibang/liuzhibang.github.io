<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>10天学安卓-第八天 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="昨天郑州雨夹雪，还有冰雹，结果小区就断电了，真是悲剧。第八天的学习就挪到今天了。 经过前几天的学习，我们了解了一些Android的基础知识，并且做出了一个也算实用的天气预报APP，对Android也算得上是入门了，那么今天我们继续改进我们的APP。 这个APP现在只能查看所在城市的天气，那么万一妹子不跟我们一个城市，我们就不能关注到妹子所在城市的天气了，那还怎么嘘寒问暖呢，这个问题是一定要解决的。">
<meta name="keywords" content="10天学安卓,安卓,安卓入门,安卓开发,安卓教程">
<meta property="og:type" content="article">
<meta property="og:title" content="10天学安卓-第八天">
<meta property="og:url" content="http://yoursite.com/2015/01/25/10-e5-a4-a9-e5-ad-a6-e5-ae-89-e5-8d-93-e7-ac-ac-e5-85-ab-e5-a4-a9/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="昨天郑州雨夹雪，还有冰雹，结果小区就断电了，真是悲剧。第八天的学习就挪到今天了。 经过前几天的学习，我们了解了一些Android的基础知识，并且做出了一个也算实用的天气预报APP，对Android也算得上是入门了，那么今天我们继续改进我们的APP。 这个APP现在只能查看所在城市的天气，那么万一妹子不跟我们一个城市，我们就不能关注到妹子所在城市的天气了，那还怎么嘘寒问暖呢，这个问题是一定要解决的。">
<meta property="og:image" content="http://lzbwp.b0.upaiyun.com/2014/10/22242152660677399401.png">
<meta property="og:image" content="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1433301-576x1024.png">
<meta property="og:image" content="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1439341-576x1024.png">
<meta property="og:image" content="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1456191-576x1024.png">
<meta property="og:image" content="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1456331-576x1024.png">
<meta property="og:image" content="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1458161-576x1024.png">
<meta property="og:updated_time" content="2017-12-12T12:38:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="10天学安卓-第八天">
<meta name="twitter:description" content="昨天郑州雨夹雪，还有冰雹，结果小区就断电了，真是悲剧。第八天的学习就挪到今天了。 经过前几天的学习，我们了解了一些Android的基础知识，并且做出了一个也算实用的天气预报APP，对Android也算得上是入门了，那么今天我们继续改进我们的APP。 这个APP现在只能查看所在城市的天气，那么万一妹子不跟我们一个城市，我们就不能关注到妹子所在城市的天气了，那还怎么嘘寒问暖呢，这个问题是一定要解决的。">
<meta name="twitter:image" content="http://lzbwp.b0.upaiyun.com/2014/10/22242152660677399401.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-10-e5-a4-a9-e5-ad-a6-e5-ae-89-e5-8d-93-e7-ac-ac-e5-85-ab-e5-a4-a9" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/25/10-e5-a4-a9-e5-ad-a6-e5-ae-89-e5-8d-93-e7-ac-ac-e5-85-ab-e5-a4-a9/" class="article-date">
  <time datetime="2015-01-25T07:05:36.000Z" itemprop="datePublished">2015-01-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/10天学安卓/">10天学安卓</a>►<a class="article-category-link" href="/categories/10天学安卓/原创-•-文章/">原创 • 文章</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      10天学安卓-第八天
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>昨天郑州雨夹雪，还有冰雹，结果小区就断电了，真是悲剧。第八天的学习就挪到今天了。</p>
<p>经过前几天的学习，我们了解了一些Android的基础知识，并且做出了一个也算实用的天气预报APP，对Android也算得上是入门了，那么今天我们继续改进我们的APP。</p>
<p>这个APP现在只能查看所在城市的天气，那么万一妹子不跟我们一个城市，我们就不能关注到妹子所在城市的天气了，那还怎么嘘寒问暖呢，这个问题是一定要解决的。</p>
<p>&nbsp;</p>
<p>如何解决？</p>
<p>那就是需要在一个界面上可以选择城市了，这就用到了数据库了。</p>
<p>我整理了一份所有城市的名单：</p>
<p>北京市,天津市,上海市,重庆市,邯郸市,石家庄市,保定市,张家口市,承德市,唐山市,廊坊市,沧州市,衡水市,邢台市,秦皇岛市,朔州市,忻州市,太原市,大同市,阳泉市,晋中市,长治市,晋城市,临汾市,吕梁市,运城市,沈阳市,铁岭市,大连市,鞍山市,抚顺市,本溪市,丹东市,锦州市,营口市,阜新市,辽阳市,朝阳市,盘锦市,葫芦岛市,长春市,吉林市,延边朝鲜族自治州,四平市,通化市,白城市,辽源市,松原市,白山市,哈尔滨市,齐齐哈尔市,鸡西市,牡丹江市,七台河市,佳木斯市,鹤岗市,双鸭山市,绥化市,黑河市,大兴安岭地区,伊春市,大庆市,南京市,无锡市,镇江市,苏州市,南通市,扬州市,盐城市,徐州市,淮安市,连云港市,常州市,泰州市,宿迁市,舟山市,衢州市,杭州市,湖州市,嘉兴市,宁波市,绍兴市,温州市,丽水市,金华市,台州市,合肥市,芜湖市,蚌埠市,淮南市,马鞍山市,淮北市,铜陵市,安庆市,黄山市,滁州市,阜阳市,宿州市,巢湖市,六安市,亳州市,池州市,宣城市,福州市,厦门市,宁德市,莆田市,泉州市,漳州市,龙岩市,三明市,南平市,鹰潭市,新余市,南昌市,九江市,上饶市,抚州市,宜春市,吉安市,赣州市,景德镇市,萍乡市,菏泽市,济南市,青岛市,淄博市,德州市,烟台市,潍坊市,济宁市,泰安市,临沂市,滨州市,东营市,威海市,枣庄市,日照市,莱芜市,聊城市,商丘市,郑州市,安阳市,新乡市,许昌市,平顶山市,信阳市,南阳市,开封市,洛阳市,济源市,焦作市,鹤壁市,濮阳市,周口市,漯河市,驻马店市,三门峡市,武汉市,襄樊市,鄂州市,孝感市,黄冈市,黄石市,咸宁市,荆州市,宜昌市,恩施土家族苗族自治州,神农架林区,十堰市,随州市,荆门市,仙桃市,天门市,潜江市,岳阳市,长沙市,湘潭市,株洲市,衡阳市,郴州市,常德市,益阳市,娄底市,邵阳市,湘西土家族苗族自治州,张家界市,怀化市,永州市,广州市,汕尾市,阳江市,揭阳市,茂名市,惠州市,江门市,韶关市,梅州市,汕头市,深圳市,珠海市,佛山市,肇庆市,湛江市,中山市,河源市,清远市,云浮市,潮州市,东莞市,兰州市,金昌市,白银市,天水市,嘉峪关市,武威市,张掖市,平凉市,酒泉市,庆阳市,定西市,陇南市,临夏回族自治州,甘南藏族自治州,成都市,攀枝花市,自贡市,绵阳市,南充市,达州市,遂宁市,广安市,巴中市,泸州市,宜宾市,资阳市,内江市,乐山市,眉山市,凉山彝族自治州,雅安市,甘孜藏族自治州,阿坝藏族羌族自治州,德阳市,广元市,贵阳市,遵义市,安顺市,黔南布依族苗族自治州,黔东南苗族侗族自治州,铜仁地区,毕节地区,六盘水市,黔西南布依族苗族自治州,海口市,三亚市,五指山市,琼海市,儋州市,文昌市,万宁市,东方市,澄迈县,定安县,屯昌县,临高县,白沙黎族自治县,昌江黎族自治县,乐东黎族自治县,陵水黎族自治县,保亭黎族苗族自治县,琼中黎族苗族自治县,西双版纳傣族自治州,德宏傣族景颇族自治州,昭通市,昆明市,大理白族自治州,红河哈尼族彝族自治州,曲靖市,保山市,文山壮族苗族自治州,玉溪市,楚雄彝族自治州,普洱市,临沧市,怒江傈傈族自治州,迪庆藏族自治州,丽江市,海北藏族自治州,西宁市,海东地区,黄南藏族自治州,海南藏族自治州,果洛藏族自治州,玉树藏族自治州,海西蒙古族藏族自治州,西安市,咸阳市,延安市,榆林市,渭南市,商洛市,安康市,汉中市,宝鸡市,铜川市,防城港市,南宁市,崇左市,来宾市,柳州市,桂林市,梧州市,贺州市,贵港市,玉林市,百色市,钦州市,河池市,北海市,拉萨市,日喀则地区,山南地区,林芝地区,昌都地区,那曲地区,阿里地区,银川市,石嘴山市,吴忠市,固原市,中卫市,塔城地区,哈密地区,和田地区,阿勒泰地区,克孜勒苏柯尔克孜自治州,博尔塔拉蒙古自治州,克拉玛依市,乌鲁木齐市,石河子市,昌吉回族自治州,五家渠市,吐鲁番地区,巴音郭楞蒙古自治州,阿克苏地区,阿拉尔市,喀什地区,图木舒克市,伊犁哈萨克自治州,呼伦贝尔市,呼和浩特市,包头市,乌海市,乌兰察布市,通辽市,赤峰市,鄂尔多斯市,巴彦淖尔市,锡林郭勒盟,兴安盟,阿拉善盟,台北市,高雄市,基隆市,台中市,台南市,新竹市,嘉义市,澳门特别行政区,香港特别行政区</p>
<p>&nbsp;</p>
<p>这里基本囊括了国内大部分城市，我们做一个界面从这里选择就好了。</p>
<p>开工。</p>
<p>&nbsp;</p>
<p>新建一个Activity，取名为ChooseCityActivity，并且修改AndroidManifest.xml，在application节点添加一个activity，如下：</p>
<p><pre>&lt;activity android:name=”com.demo.weather.ChooseCityActivity”&gt;&lt;/activity&gt;</pre><br>&nbsp;</p>
<p>这样就添加了一个新的Activity到APP中，不过现在还是空的，没有内容，不着急，我们过会儿会添加进去。</p>
<p>&nbsp;</p>
<p>然后修改MainActivity，添加两个方法：</p>
<p><pre>    @Override<br>    public boolean onCreateOptionsMenu( Menu menu )<br>    {<br>        super.onCreateOptionsMenu( menu );<br>        menu.add( Menu.NONE, Menu.FIRST + 1, 0, “添加城市” ).setShowAsAction( MenuItem.SHOW_AS_ACTION_ALWAYS );<br>        return true;<br>    }</pre></p>
<pre><code>@Override
public boolean onOptionsItemSelected( MenuItem item )
{
    if( item.getItemId() == Menu.FIRST + 1 )
    {
        startActivityForResult( new Intent( getApplicationContext(), ChooseCityActivity.class ), 99 );
    }

    return super.onOptionsItemSelected( item );
}&lt;/pre&gt;
</code></pre><p>&nbsp;</p>
<p>第一个方法的作用是在右上角添加了一个名为“添加城市”的按钮，第二个方法的作用就是点击了“添加城市”的按钮后，会跳转到我们新建的那个Activity。</p>
<p>&nbsp;</p>
<h2 id="ActionBar"><a href="#ActionBar" class="headerlink" title="ActionBar"></a>ActionBar</h2><p>我们这里用到了ActionBar，一个完整的ActionBar是这样子的：</p>
<p><a href="http://lzbwp.b0.upaiyun.com/2014/10/22242152660677399401.png" target="_blank" rel="noopener"><img src="http://lzbwp.b0.upaiyun.com/2014/10/22242152660677399401.png" alt="2224215266067739940"></a></p>
<p>一共分为四部分，</p>
<p>1. App Icon，也可替换为任意的图标</p>
<p>2. View Controller，这部分为下拉菜单或者Tab选项卡，或者是App Title</p>
<p>3. Action Item，这部分就是我们上面那两个方法进行设置的，每一个Action Item都会包含文字、图标</p>
<p>4. Action Overflow，如果第三部分的Action Item比较多显示不全的时候，就会在这里以列表的形式展示</p>
<p>每一个Action Item都可以通过调用setShowAsAction来设置它的展示方式，在前面我们添加了一个Action Item，并且设置为SHOW_AS_ACTION_ALWAYS，这就要求这个Item是必须显示在第三部分的。</p>
<p>&nbsp;</p>
<p>了解了一些ActionBar的基础知识后，我们继续之前的学习。</p>
<p>现在的界面应该是这个样子的：</p>
<p><a href="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1433301.png" target="_blank" rel="noopener"><img src="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1433301-576x1024.png" alt="device-2015-01-25-143330"></a></p>
<p>&nbsp;</p>
<p>点击“添加城市”后，就跳转到了一个空白页面。</p>
<p>&nbsp;</p>
<h2 id="跳转-传值"><a href="#跳转-传值" class="headerlink" title="跳转+传值"></a>跳转+传值</h2><p>Android中页面跳转提供了两种方法，startActivityForResult和startActivity，这两个方法区别在于能否将结果回传。</p>
<p>&nbsp;</p>
<h3 id="传值"><a href="#传值" class="headerlink" title="传值"></a>传值</h3><p>假如MainActivity需要向ChooseCityActivity传值，可以这么做：</p>
<p><pre>            Intent intent = new Intent( getApplicationContext(), ChooseCityActivity.class );<br>            intent.putExtra( “key”, “value” );<br>            startActivityForResult( intent, 99 );</pre><br>并且在ChooseCityActivity的onCreate方法中进行接收：</p>
<p><pre>    protected void onCreate( Bundle savedInstanceState )<br>    {<br>        super.onCreate( savedInstanceState );</pre></p>
<pre><code>    String value = getIntent().getStringExtra( &quot;key&quot; );
    Log.v( &quot;ChooseCityActivity&quot;, value );
}&lt;/pre&gt;
</code></pre><p>&nbsp;</p>
<h3 id="回传"><a href="#回传" class="headerlink" title="回传"></a>回传</h3><p>假如这个时候ChooseCityActivity需要把一些数据回传，可以这么做：</p>
<p><pre>        Intent intent = new Intent();<br>        intent.putExtra( “key2”, “value2” );<br>        setResult( RESULT_OK, intent );<br>        super.finish();</pre><br>并且在MainActivity添加onActivityResult方法：</p>
<p><pre>    protected void onActivityResult( int requestCode, int resultCode, Intent data )<br>    {<br>        super.onActivityResult( requestCode, resultCode, data );</pre></p>
<pre><code>    Log.v( &quot;onActivityResult&quot;, data.getStringExtra( &quot;key2&quot; ) );
}&lt;/pre&gt;
</code></pre><p>&nbsp;</p>
<p>了解了这些内容，Activity间的传值就没有问题了，可以传很多类型的数据，包括基本类型以及实现了Serializable或者Parcelable接口的类型，Serializable是Java标准的序列化接口，Parcelable是Google定义的效率更高的序列化接口，如果是复杂类型，推荐大家使用Parcelable接口。</p>
<p>&nbsp;</p>
<p>希望大家掌握这些知识点，这些内容会在实际的应用中频繁使用。</p>
<p>我们继续之前的学习，这次的目标是在新的界面实现选择城市并且传回MainActivity，为了做到这一点，这个界面需要有一个可以输入关键字的文本框已经一个城市列表，知道要做什么了，就动起手来吧。</p>
<p>还记得怎么新建一个Layout吗？如果忘记了，请看这里：<a href="http://liuzhibang.cn/?p=380" target="_blank" rel="noopener">http://liuzhibang.cn/?p=380</a></p>
<p>这次我们新建的Layout可以起名为：activity_choose_city，并且我们这次尝试使用LinearLayout，</p>
<p><pre>&lt;?xml version=”1.0” encoding=”utf-8”?&gt;<br>&lt;LinearLayout xmlns:android=”<a href="http://schemas.android.com/apk/res/android" target="_blank" rel="noopener">http://schemas.android.com/apk/res/android</a>“<br>    android:layout_width=”match_parent”<br>    android:layout_height=”match_parent”<br>    android:orientation=”vertical” &gt;</pre></p>
<pre><code>&amp;lt;EditText
    android:id=&quot;@+id/choose_key&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;wrap_content&quot;
    android:ems=&quot;10&quot; &amp;gt;
&amp;lt;/EditText&amp;gt;

&amp;lt;ListView
    android:id=&quot;@+id/choose_list&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;wrap_content&quot; &amp;gt;
&amp;lt;/ListView&amp;gt;
</code></pre><p>&lt;/LinearLayout&gt;<br>&nbsp;</p>
<p>这个界面有一个文本框和一个列表，并且是垂直排列，占满了整个屏幕。</p>
<p>界面已经好了，接下来我们需要把数据以某种方式存储起来，并且在文本框输入了关键字后进行筛选，把筛选的城市显示到列表中。</p>
<p>&nbsp;</p>
<p>怎样把那么些个城市数据存储起来？什么时候进行这个操作呢？</p>
<p>&nbsp;</p>
<p>Application</p>
<p>为什么我们的手机应用都叫APP呢？</p>
<p>那是因为我们所做出来的每一个应用都是一个Android Application，而APP就是Application的缩写，可见Application的重要性了。</p>
<p>实际上，Application是Android框架的系统组件，当应用启动的时候就会创建一个且只有一个Application对象，用来存储APP的一些信息，所有说Application是一个单例模式。既然是单例对象，那么我们就可以在这里保存一些全局的数据，例如我们的城市数据；或者进行一些必要的初始化操作，比如把我们的城市数据存储起来。</p>
<p>要做到这些，只需要继承Application这个类，实现我们自己的Application就可以了。</p>
<p>新建一个类WeatherApplication，让它继承Application，并且实现它的onCreate方法：</p>
<p><pre>public class WeatherApplication extends Application<br>{<br>    @Override<br>    public void onCreate()<br>    {<br>        super.onCreate();<br>    }<br>}</pre><br>这个onCreate就是实际意义的整个APP的入口，每次启动都会执行这个方法，我们在这里把城市数据存储到数据库中。</p>
<p>&nbsp;</p>
<p>然后修改AndroidManifest.xml，在application节点添加：</p>
<p><pre>android:name=”com.demo.weather.WeatherApplication”</pre><br>这就指定了这个应用的Application就是WeatherApplication，然后修改WeatherApplication，进行我们的初始化数据的操作。</p>
<p><pre>public class WeatherApplication extends Application<br>{<br>    private String citys = “北京市,天津市,上海市,重庆市,邯郸市,石家庄市,保定市,张家口市,承德市,唐山市,廊坊市,沧州市,衡水市,邢台市,秦皇岛市,朔州市,忻州市,太原市,大同市,阳泉市,晋中市,长治市,晋城市,临汾市,吕梁市,运城市,沈阳市,铁岭市,大连市,鞍山市,抚顺市,本溪市,丹东市,锦州市,营口市,阜新市,辽阳市,朝阳市,盘锦市,葫芦岛市,长春市,吉林市,延边朝鲜族自治州,四平市,通化市,白城市,辽源市,松原市,白山市,哈尔滨市,齐齐哈尔市,鸡西市,牡丹江市,七台河市,佳木斯市,鹤岗市,双鸭山市,绥化市,黑河市,大兴安岭地区,伊春市,大庆市,南京市,无锡市,镇江市,苏州市,南通市,扬州市,盐城市,徐州市,淮安市,连云港市,常州市,泰州市,宿迁市,舟山市,衢州市,杭州市,湖州市,嘉兴市,宁波市,绍兴市,温州市,丽水市,金华市,台州市,合肥市,芜湖市,蚌埠市,淮南市,马鞍山市,淮北市,铜陵市,安庆市,黄山市,滁州市,阜阳市,宿州市,巢湖市,六安市,亳州市,池州市,宣城市,福州市,厦门市,宁德市,莆田市,泉州市,漳州市,龙岩市,三明市,南平市,鹰潭市,新余市,南昌市,九江市,上饶市,抚州市,宜春市,吉安市,赣州市,景德镇市,萍乡市,菏泽市,济南市,青岛市,淄博市,德州市,烟台市,潍坊市,济宁市,泰安市,临沂市,滨州市,东营市,威海市,枣庄市,日照市,莱芜市,聊城市,商丘市,郑州市,安阳市,新乡市,许昌市,平顶山市,信阳市,南阳市,开封市,洛阳市,济源市,焦作市,鹤壁市,濮阳市,周口市,漯河市,驻马店市,三门峡市,武汉市,襄樊市,鄂州市,孝感市,黄冈市,黄石市,咸宁市,荆州市,宜昌市,恩施土家族苗族自治州,神农架林区,十堰市,随州市,荆门市,仙桃市,天门市,潜江市,岳阳市,长沙市,湘潭市,株洲市,衡阳市,郴州市,常德市,益阳市,娄底市,邵阳市,湘西土家族苗族自治州,张家界市,怀化市,永州市,广州市,汕尾市,阳江市,揭阳市,茂名市,惠州市,江门市,韶关市,梅州市,汕头市,深圳市,珠海市,佛山市,肇庆市,湛江市,中山市,河源市,清远市,云浮市,潮州市,东莞市,兰州市,金昌市,白银市,天水市,嘉峪关市,武威市,张掖市,平凉市,酒泉市,庆阳市,定西市,陇南市,临夏回族自治州,甘南藏族自治州,成都市,攀枝花市,自贡市,绵阳市,南充市,达州市,遂宁市,广安市,巴中市,泸州市,宜宾市,资阳市,内江市,乐山市,眉山市,凉山彝族自治州,雅安市,甘孜藏族自治州,阿坝藏族羌族自治州,德阳市,广元市,贵阳市,遵义市,安顺市,黔南布依族苗族自治州,黔东南苗族侗族自治州,铜仁地区,毕节地区,六盘水市,黔西南布依族苗族自治州,海口市,三亚市,五指山市,琼海市,儋州市,文昌市,万宁市,东方市,澄迈县,定安县,屯昌县,临高县,白沙黎族自治县,昌江黎族自治县,乐东黎族自治县,陵水黎族自治县,保亭黎族苗族自治县,琼中黎族苗族自治县,西双版纳傣族自治州,德宏傣族景颇族自治州,昭通市,昆明市,大理白族自治州,红河哈尼族彝族自治州,曲靖市,保山市,文山壮族苗族自治州,玉溪市,楚雄彝族自治州,普洱市,临沧市,怒江傈傈族自治州,迪庆藏族自治州,丽江市,海北藏族自治州,西宁市,海东地区,黄南藏族自治州,海南藏族自治州,果洛藏族自治州,玉树藏族自治州,海西蒙古族藏族自治州,西安市,咸阳市,延安市,榆林市,渭南市,商洛市,安康市,汉中市,宝鸡市,铜川市,防城港市,南宁市,崇左市,来宾市,柳州市,桂林市,梧州市,贺州市,贵港市,玉林市,百色市,钦州市,河池市,北海市,拉萨市,日喀则地区,山南地区,林芝地区,昌都地区,那曲地区,阿里地区,银川市,石嘴山市,吴忠市,固原市,中卫市,塔城地区,哈密地区,和田地区,阿勒泰地区,克孜勒苏柯尔克孜自治州,博尔塔拉蒙古自治州,克拉玛依市,乌鲁木齐市,石河子市,昌吉回族自治州,五家渠市,吐鲁番地区,巴音郭楞蒙古自治州,阿克苏地区,阿拉尔市,喀什地区,图木舒克市,伊犁哈萨克自治州,呼伦贝尔市,呼和浩特市,包头市,乌海市,乌兰察布市,通辽市,赤峰市,鄂尔多斯市,巴彦淖尔市,锡林郭勒盟,兴安盟,阿拉善盟,台北市,高雄市,基隆市,台中市,台南市,新竹市,嘉义市,澳门特别行政区,香港特别行政区”;<br>    private DbUtils dbUtils;</pre></p>
<pre><code>private static WeatherApplication instance;

public static WeatherApplication getInstance()
{
    return instance;
}

@Override
public void onCreate()
{
    super.onCreate();
    instance = this;
    dbUtils = DbUtils.create( this );

    if( !readInit() )
    {
        initCity();
    }
}

private void initCity()
{
    boolean isSuccess = true;
    String[] cityArray = citys.split( &quot;,&quot; );
    for( String city : cityArray )
    {
        CityBean cityBean = new CityBean();
        cityBean.setCityName( city );
        try
        {
            dbUtils.save( cityBean );
        }
        catch( DbException e )
        {
            isSuccess = false;
        }
    }

    saveInit( isSuccess );
}

private void saveInit( boolean isInited )
{
    SharedPreferences sharedPreferences = getSharedPreferences( &quot;weather&quot;, Context.MODE_PRIVATE );
    Editor editor = sharedPreferences.edit();
    editor.putBoolean( &quot;isInited&quot;, isInited );
    editor.commit();
}

private boolean readInit()
{
    SharedPreferences sharedPreferences = getSharedPreferences( &quot;weather&quot;, Context.MODE_PRIVATE );
    return sharedPreferences.getBoolean( &quot;isInited&quot;, false );
}
</code></pre><p>}<br>&nbsp;</p>
<p>这里用到了CityBean这个类，</p>
<p><pre>public class CityBean<br>{<br>    private int id;<br>    private String cityName;</pre></p>
<pre><code>public int getId()
{
    return id;
}

public void setId( int id )
{
    this.id = id;
}

public String getCityName()
{
    return cityName;
}

public void setCityName( String cityName )
{
    this.cityName = cityName;
}
</code></pre><p>}<br>&nbsp;</p>
<p>这个类是进行数据库操作的类，而我们的数据库操作使用了第三方类库，根据类库的要求，我们这里有一个名为id的字段。</p>
<p>&nbsp;</p>
<p>做好了这些后，运行程序。</p>
<p>有没有发现特别慢？那是因为我们在启动的时候进行了数据库操作，并且插入了300多条城市数据，这个过程是比较耗时的。</p>
<p>等一切现实正常后，我们退出程序，再重新启动，有没有发现变快了？那是因为我们只在第一次启动的时候进行了数据存储。</p>
<p>这里面用到了一个小技巧：</p>
<p>在数据存储操作后，我们另外在Preference中写入了一个名为isInited的Boolean类型的数据，如果成功，我们就不再进行这个操作了。</p>
<p>&nbsp;</p>
<h3 id="查看数据库文件"><a href="#查看数据库文件" class="headerlink" title="查看数据库文件"></a>查看数据库文件</h3><p>如果你的手机是Root过的，那么你还可以把数据库导出，放到电脑上用工具查看数据是否正确。另外，有一些手机APP，例如Root Explorer也提供了在手机上直接查看数据库的功能，但是毕竟不如在电脑上清晰直观。</p>
<p>每一个APP的数据库、缓存文件都存在/data/data/[package]下面，比如我们的APP，就存在/data/data/com.demo.weather这个目录下面。</p>
<p>需要注意，这个目录在APP被卸载之后会被清空。</p>
<p><a href="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1439341.png" target="_blank" rel="noopener"><img src="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1439341-576x1024.png" alt="device-2015-01-25-143934"></a></p>
<p>&nbsp;</p>
<p>稍微说明一下这几个目录，</p>
<p>cache：在这里可以存放临时缓存，</p>
<p>databases：就是数据库，我们的数据库文件就在这个目录</p>
<p>files：一般存放一些长时间保存的数据</p>
<p>lib：APP用到库文件</p>
<p>shared_prefs：这个就是SharedPreferences这个类保存的数据</p>
<p>&nbsp;</p>
<p>跟我们这个APP相关的就只要两个目录：databases和shared_prefs，打开它们：</p>
<p><a href="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1456191.png" target="_blank" rel="noopener"><img src="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1456191-576x1024.png" alt="device-2015-01-25-145619"></a> <a href="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1456331.png" target="_blank" rel="noopener"><img src="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1456331-576x1024.png" alt="device-2015-01-25-145633"></a></p>
<p>很清楚，一个数据库文件，另外一个是xml文件。大家可以通过各种办法把这两个文件导出到电脑来查看。</p>
<p>&nbsp;</p>
<p>接下来的工作就是在ChooseCityActivity中选择城市了。</p>
<p>首先把这个Activity和我们之前新建的Layout联系起来，</p>
<p><pre>public class ChooseCityActivity extends Activity<br>{<br>    @ViewInject( R.id.choose_key )<br>    private EditText edtKey;</pre></p>
<pre><code>@ViewInject( R.id.choose_list )
private ListView lstCity;

@Override
protected void onCreate( Bundle savedInstanceState )
{
    super.onCreate( savedInstanceState );
    setContentView( R.layout.activity_choose_city );

    ViewUtils.inject( this );
}
</code></pre><p>}<br>&nbsp;</p>
<p>&nbsp;</p>
<p>再回想一下我们的需求：输入关键字后，在列表中显示相应的城市</p>
<p>这需要我们监听文本框的输入事件，可以这么做：</p>
<p><pre>public class ChooseCityActivity extends Activity<br>{<br>    @ViewInject( R.id.choose_key )<br>    private EditText edtKey;</pre></p>
<pre><code>@ViewInject( R.id.choose_list )
private ListView lstCity;

@Override
protected void onCreate( Bundle savedInstanceState )
{
    super.onCreate( savedInstanceState );
    setContentView( R.layout.activity_choose_city );

    ViewUtils.inject( this );

    edtKey.addTextChangedListener( new TextFilter() );
}

private void search( String key )
{
}

class TextFilter implements TextWatcher
{
    @Override
    public void beforeTextChanged( CharSequence s, int start, int count, int after )
    {
    }

    @Override
    public void onTextChanged( CharSequence s, int start, int before, int count )
    {
        String key = edtKey.getText().toString();
        search( key );
    }

    @Override
    public void afterTextChanged( Editable s )
    {
    }
}
</code></pre><p>}<br>&nbsp;</p>
<p>给EditText添加一个TextWatcher事件，就可以监听它的文本变化，当文本变化后，会调用search方法，这个方法将会查询数据库，并且把查询结果显示到ListView中。</p>
<p>&nbsp;</p>
<p>将会用到数据库查询操作，联想到之前我们已经进行过存储操作了，我们可以把在Application里用到的DbUtils公开出来，在WeatherApplication添加方法：</p>
<p><pre>    public DbUtils getDbUtil()<br>    {<br>        if( dbUtils == null )<br>        {<br>            dbUtils = DbUtils.create( this );<br>        }</pre></p>
<pre><code>    return dbUtils;
}&lt;/pre&gt;
</code></pre><p>&nbsp;</p>
<p>&nbsp;</p>
<p>关于如何把数据显示到ListView中，相信大家还记得之前如何把天气显示出来的吧。</p>
<p>新建一个Layout，名为item_city：</p>
<p><pre>&lt;?xml version=”1.0” encoding=”utf-8”?&gt;<br>&lt;RelativeLayout xmlns:android=”<a href="http://schemas.android.com/apk/res/android" target="_blank" rel="noopener">http://schemas.android.com/apk/res/android</a>“<br>    android:layout_width=”match_parent”<br>    android:layout_height=”match_parent” &gt;</pre></p>
<pre><code>&amp;lt;TextView
    android:id=&quot;@+id/item_city&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;wrap_content&quot;
    android:layout_centerInParent=&quot;true&quot;
    android:layout_margin=&quot;15dp&quot;
    android:textColor=&quot;#000000&quot;
    android:textSize=&quot;16sp&quot; /&amp;gt;
</code></pre><p>&lt;/RelativeLayout&gt;<br>&nbsp;</p>
<p>&nbsp;</p>
<p>然后新建一个Adapter，名为CityAdapter：</p>
<p><pre>public class CityAdapter extends BaseAdapter<br>{<br>    private List&lt;CityBean&gt; citys;<br>    private LayoutInflater inflater;</pre></p>
<pre><code>public CityAdapter( Context context, List&amp;lt;CityBean&amp;gt; citys )
{
    this.citys = citys;
    inflater = LayoutInflater.from( context );
}

@Override
public int getCount()
{
    return citys.size();
}

@Override
public Object getItem( int position )
{
    return citys.get( position );
}

@Override
public long getItemId( int position )
{
    return position;
}

@Override
public View getView( int position, View convertView, ViewGroup parent )
{
    convertView = inflater.inflate( R.layout.item_city, null );

    CityBean bean = (CityBean)getItem( position );

    TextView txtCity = (TextView)convertView.findViewById( R.id.item_city );
    txtCity.setText( bean.getCityName() );

    return convertView;
}
</code></pre><p>}<br>&nbsp;</p>
<p>&nbsp;</p>
<p>最后修改ChooseCityActivity的search方法：</p>
<p><pre>    private void search( String key )<br>    {<br>        DbUtils dbUtils = WeatherApplication.getInstance().getDbUtil();<br>        try<br>        {<br>            List&lt;CityBean&gt; citys = dbUtils.findAll( Selector.from( CityBean.class ).where( “cityName”, “like”, “%” + key + “%” ) );<br>            CityAdapter adapter = new CityAdapter( getApplicationContext(), citys );<br>            lstCity.setAdapter( adapter );<br>        }<br>        catch( DbException e )<br>        {<br>            e.printStackTrace();<br>        }<br>    }</pre><br>&nbsp;</p>
<p>这个时候的ChooseCityActivity是这样的：</p>
<p><pre>public class ChooseCityActivity extends Activity<br>{<br>    @ViewInject( R.id.choose_key )<br>    private EditText edtKey;</pre></p>
<pre><code>@ViewInject( R.id.choose_list )
private ListView lstCity;

@Override
protected void onCreate( Bundle savedInstanceState )
{
    super.onCreate( savedInstanceState );
    setContentView( R.layout.activity_choose_city );

    ViewUtils.inject( this );

    edtKey.addTextChangedListener( new TextFilter() );
}

private void search( String key )
{
    DbUtils dbUtils = WeatherApplication.getInstance().getDbUtil();
    try
    {
        List&amp;lt;CityBean&amp;gt; citys = dbUtils.findAll( Selector.from( CityBean.class ).where( &quot;cityName&quot;, &quot;like&quot;, &quot;%&quot; + key + &quot;%&quot; ) );
        CityAdapter adapter = new CityAdapter( getApplicationContext(), citys );
        lstCity.setAdapter( adapter );
    }
    catch( DbException e )
    {
        e.printStackTrace();
    }
}

class TextFilter implements TextWatcher
{
    @Override
    public void beforeTextChanged( CharSequence s, int start, int count, int after )
    {
    }

    @Override
    public void onTextChanged( CharSequence s, int start, int before, int count )
    {
        String key = edtKey.getText().toString();
        search( key );
    }

    @Override
    public void afterTextChanged( Editable s )
    {
    }
}
</code></pre><p>}<br>&nbsp;</p>
<p>来运行一下吧，点击“添加城市”，在输入框中输入文字后，列表是不是有了内容了？</p>
<p>我的是这样的：</p>
<p><a href="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1458161.png" target="_blank" rel="noopener"><img src="http://lzbwp.b0.upaiyun.com/2015/01/device-2015-01-25-1458161-576x1024.png" alt="device-2015-01-25-145816"></a></p>
<p>&nbsp;</p>
<p>到这里，我们的工作就完成了一多半了，剩下的就是把选择的城市回传给MainActivity，并且更新天气数据。</p>
<p>&nbsp;</p>
<p>再接再厉，我们把最后这部分完成再休息。</p>
<p>&nbsp;</p>
<p>关于如何把选择的城市回传，之前已经了解了，这次实践一下：</p>
<p><pre>    @OnItemClick( R.id.choose_list )<br>    public void onItemClick( AdapterView&lt;?&gt; parent, View view, int position, long id )<br>    {<br>        CityBean cityBean = (CityBean)parent.getAdapter().getItem( position );</pre></p>
<pre><code>    Intent intent = new Intent();
    intent.putExtra( &quot;selectedCity&quot;, cityBean.getCityName() );
    setResult( RESULT_OK, intent );
    super.finish();
}&lt;/pre&gt;
</code></pre><p>&nbsp;</p>
<p>这个方法是ListView中的Item点击后触发，作用就是把选中的城市从Adapter中取出来，并且回传。</p>
<p>&nbsp;</p>
<p>然后在MainActivity中修改onActivityResult方法：</p>
<p><pre>    protected void onActivityResult( int requestCode, int resultCode, Intent data )<br>    {<br>        super.onActivityResult( requestCode, resultCode, data );</pre></p>
<pre><code>    if( resultCode == RESULT_OK )
    {
        String selectedCity = data.getStringExtra( &quot;selectedCity&quot; );
        getWeather( selectedCity );
    }
}&lt;/pre&gt;
</code></pre><p>在这里先判断了一下resultCode时候是正确返回，然后取出来城市并且调用了getWeather方法获取天气。</p>
<p>&nbsp;</p>
<p>打完收工，运行一下吧。</p>
<p>&nbsp;</p>
<p>有没有发现这个情况：</p>
<p>选择了别的城市后，再返回回来，天气好像是发生了变化，但是标题上还是所在地的名字，为什么会有这个情况呢？我们明明在getWeather方法中设置了标题啊。</p>
<p>&nbsp;</p>
<p>别急，让我们回想一下Activity的生命周期中的第3条：</p>
<p>&gt;&gt; 3. Activity重新获得焦点的时候，会依次执行onRestart、onStart和onResume</p>
<p>当返回到MainActivity的时候，这个顺序有发生了一点变化，它会这样执行：</p>
<p>onActivityResult -&gt; onRestart -&gt; onStart -&gt; onResume</p>
<p>看到了吧，onActivityResult是最先执行，这个时候我们调用getWeather会被onStart调用的getWeather给覆盖掉，怎么解决呢？</p>
<p>我这里有两种办法：</p>
<p>1. 我们不在onStart中获取天气，而在onCreate中获取</p>
<p>2. 修改一下getWeather，把城市作为类的成员变量，而不是方法参数，这样保证城市的一致</p>
<p>我们先采用第二种办法吧。</p>
<p><pre>public class MainActivity extends Activity<br>{<br>    @ViewInject( R.id.weather_list )<br>    private ListView lstWeather;</pre></p>
<pre><code>private WeatherAdapter adapter;
private BaiduData data;

private List&amp;lt;WeatherDataBean&amp;gt; datas;

private LocationClient mLocationClient;
private BDLocationListener myListener;

private String city;

@Override
protected void onCreate( Bundle savedInstanceState )
{
    super.onCreate( savedInstanceState );
    setContentView( R.layout.activity_main );

    Log.v( &quot;WeatherAPP&quot;, &quot;onCreate&quot; );

    ViewUtils.inject( this );

    datas = new ArrayList&amp;lt;WeatherDataBean&amp;gt;();
    adapter = new WeatherAdapter( getApplicationContext(), datas );
    lstWeather.setAdapter( adapter );

    initLocationClient();
    mLocationClient.start();
}

@Override
public boolean onCreateOptionsMenu( Menu menu )
{
    super.onCreateOptionsMenu( menu );
    menu.add( Menu.NONE, Menu.FIRST + 1, 0, &quot;添加城市&quot; ).setShowAsAction( MenuItem.SHOW_AS_ACTION_ALWAYS );
    return true;
}

@Override
public boolean onOptionsItemSelected( MenuItem item )
{
    if( item.getItemId() == Menu.FIRST + 1 )
    {
        Intent intent = new Intent( getApplicationContext(), ChooseCityActivity.class );
        intent.putExtra( &quot;key&quot;, &quot;value&quot; );
        startActivityForResult( intent, 99 );
    }

    return super.onOptionsItemSelected( item );
}

@Override
protected void onActivityResult( int requestCode, int resultCode, Intent data )
{
    super.onActivityResult( requestCode, resultCode, data );

    if( resultCode == RESULT_OK )
    {
        city = data.getStringExtra( &quot;selectedCity&quot; );
    }
}

private void getWeather()
{
    setTitle( city + &quot;天气&quot; );

    HttpUtils http = new HttpUtils();

    RequestParams params = new RequestParams();
    params.addQueryStringParameter( &quot;location&quot;, city );
    params.addQueryStringParameter( &quot;output&quot;, &quot;json&quot; );
    params.addQueryStringParameter( &quot;ak&quot;, &quot;YknGmxIoPugT7YrNrG955YLS&quot; );

    http.send( HttpMethod.GET, &quot;http://api.map.baidu.com/telematics/v3/weather&quot;, params, new RequestCallBack&amp;lt;String&amp;gt;()
    {
        @Override
        public void onSuccess( ResponseInfo&amp;lt;String&amp;gt; responseInfo )
        {
            String weather = responseInfo.result;

            Gson gson = new Gson();
            data = gson.fromJson( weather, BaiduData.class );

            datas.clear();
            datas.addAll( data.getResults().get( 0 ).getWeather_data() );
            adapter.notifyDataSetChanged();

            Log.v( &quot;onSuccess&quot;, data.toString() );
        }

        @Override
        public void onFailure( HttpException arg0, String arg1 )
        {
            Log.v( &quot;onFailure&quot;, arg1 );
        }
    } );
}

private void initLocationClient()
{
    mLocationClient = new LocationClient( getApplicationContext() ); // 声明LocationClient类
    myListener = new MyLocationListener();
    LocationClientOption option = new LocationClientOption();
    option.setLocationMode( LocationMode.Hight_Accuracy );
    option.setIsNeedAddress( true );
    mLocationClient.setLocOption( option );
    mLocationClient.registerLocationListener( myListener );
}

@Override
protected void onStop()
{
    Log.v( &quot;WeatherAPP&quot;, &quot;onStop&quot; );
    super.onStop();
    mLocationClient.stop();
}

@Override
protected void onPause()
{
    Log.v( &quot;WeatherAPP&quot;, &quot;onPause&quot; );
    super.onPause();
}

@Override
protected void onRestart()
{
    Log.v( &quot;WeatherAPP&quot;, &quot;onRestart&quot; );
    super.onRestart();
}

@Override
protected void onResume()
{
    Log.v( &quot;WeatherAPP&quot;, &quot;onResume&quot; );
    super.onResume();
}

@Override
protected void onStart()
{
    Log.v( &quot;WeatherAPP&quot;, &quot;onStart&quot; );
    super.onStart();

    if( city == null || city.length() == 0 )
    {
        city = readCity();
    }

    if( city != null &amp;amp;&amp;amp; city.length() &amp;gt; 0 )
    {
        getWeather();
    }
}

@Override
protected void onDestroy()
{
    Log.v( &quot;WeatherAPP&quot;, &quot;onDestroy&quot; );
    super.onDestroy();
}

public class MyLocationListener implements BDLocationListener
{
    @Override
    public void onReceiveLocation( BDLocation location )
    {
        city = location.getCity();

        String localCity = readCity();
        if( !localCity.equals( city ) )
        {
            saveCity( city );
            getWeather();
        }
    }
}

private void saveCity( String city )
{
    SharedPreferences sharedPreferences = getSharedPreferences( &quot;weather&quot;, Context.MODE_PRIVATE );
    Editor editor = sharedPreferences.edit();
    editor.putString( &quot;city&quot;, city );
    editor.commit();
}

private String readCity()
{
    SharedPreferences sharedPreferences = getSharedPreferences( &quot;weather&quot;, Context.MODE_PRIVATE );
    return sharedPreferences.getString( &quot;city&quot;, &quot;&quot; );
}
</code></pre><p>}<br>&nbsp;</p>
<p>这里修改了onStart方法：</p>
<p><pre>    protected void onStart()<br>    {<br>        Log.v( “WeatherAPP”, “onStart” );<br>        super.onStart();</pre></p>
<pre><code>    if( city == null || city.length() == 0 )
    {
        city = readCity();
    }

    if( city != null &amp;amp;&amp;amp; city.length() &amp;gt; 0 )
    {
        getWeather();
    }
}&lt;/pre&gt;
</code></pre><p>如果城市为空，才获取我们在Preference中保存的城市，这是因为onActivityResult执行在前，已经把city变量赋值了，然后在 执行onStart的时候确保这个值不被覆盖。</p>
<p>&nbsp;</p>
<p>大功告成了。お疲れ様です。（辛苦了）</p>
<p>&nbsp;</p>
<p>就这样，天气就变成了我们选择的城市的了。</p>
<p>&nbsp;</p>
<p>等等，说好的“添加城市”呢？</p>
<p>我想同事查看两个城市，而不是一个一个看。</p>
<p>别慌，怎么同时查看两个城市，我们明天继续。</p>
<p>&nbsp;</p>
<p>附件是本次的工程文件，<a href="http://pan.baidu.com/s/1bntoAGR" target="_blank" rel="noopener">点击下载</a> <a href="http://pan.baidu.com/s/1bntoAGR" target="_blank" rel="noopener">http://pan.baidu.com/s/1bntoAGR</a> 。</p>
<p>此系列文章系本人原创，如需转载，请注明出处 www.liuzhibang.cn</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/01/25/10-e5-a4-a9-e5-ad-a6-e5-ae-89-e5-8d-93-e7-ac-ac-e5-85-ab-e5-a4-a9/" data-id="cjb3m5kkd000krq14x44va6n4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/10天学安卓/">10天学安卓</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/安卓/">安卓</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/安卓入门/">安卓入门</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/安卓开发/">安卓开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/安卓教程/">安卓教程</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/01/27/10-e5-a4-a9-e5-ad-a6-e5-ae-89-e5-8d-93-e7-ac-ac-e4-b9-9d-e5-a4-a9/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          10天学安卓-第九天
        
      </div>
    </a>
  
  
    <a href="/2015/01/23/10-e5-a4-a9-e5-ad-a6-e5-ae-89-e5-8d-93-e7-ac-ac-e4-b8-83-e5-a4-a9/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">10天学安卓-第七天</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/10天学安卓/">10天学安卓</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/10天学安卓/原创-•-文章/">原创 • 文章</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品-•-设计/">产品 • 设计</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/产品-•-设计/收藏-•-分享/">收藏 • 分享</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/产品-•-设计/收藏-•-分享/职场-•-技能/">职场 • 技能</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品-•-设计/收藏-•-分享/运营-•-数据/">运营 • 数据</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/原创-•-文章/">原创 • 文章</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/原创-•-文章/开源系列/">开源系列</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/原创-•-文章/开源系列/我的应用/">我的应用</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/原创-•-文章/我的应用/">我的应用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/原创-•-文章/生活-•-随笔/">生活 • 随笔</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/我的应用/">我的应用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/收藏-•-分享/">收藏 • 分享</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/收藏-•-分享/职场-•-技能/">职场 • 技能</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/收藏-•-分享/营销-•-媒体/">营销 • 媒体</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/收藏-•-分享/营销-•-媒体/运营-•-数据/">运营 • 数据</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/收藏-•-分享/运营-•-数据/">运营 • 数据</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活-•-随笔/">生活 • 随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/10天学安卓/">10天学安卓</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/90后/">90后</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/APP/">APP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Admob/">Admob</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Andengine/">Andengine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blur/">Blur</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DateTime/">DateTime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FTP/">FTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QQ/">QQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sliding-Menu/">Sliding Menu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Widget/">Widget</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/afinal/">afinal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apple/">apple</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/db/">db</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iphone/">iphone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iwatch/">iwatch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lgame/">lgame</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/o2o/">o2o</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shimmer/">shimmer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xutils/">xutils</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/产品经理/">产品经理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/仙剑/">仙剑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/侧滑/">侧滑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/创业/">创业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/创新/">创新</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/双十一/">双十一</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/双十二/">双十二</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/团购/">团购</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图片/">图片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/在线音乐/">在线音乐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/大数据/">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/天气预报/">天气预报</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安全/">安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安卓/">安卓</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安卓入门/">安卓入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安卓开发/">安卓开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安卓教程/">安卓教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小米/">小米</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/幸福/">幸福</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/幼教/">幼教</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开源/">开源</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/录音/">录音</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信/">微信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微商/">微商</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/快速开发/">快速开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/扁平化/">扁平化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/手游/">手游</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/推送/">推送</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/播放器/">播放器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/效果/">效果</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日期/">日期</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/时间/">时间</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务/">服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/框架/">框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/海淘/">海淘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/淘宝/">淘宝</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/游戏/">游戏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/物联网/">物联网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/特效/">特效</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电商/">电商</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动互联网/">移动互联网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/第三方/">第三方</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/罗永浩/">罗永浩</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/美空/">美空</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/职业生涯/">职业生涯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/职场/">职场</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/菜单/">菜单</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/萌萌颜文字/">萌萌颜文字</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计/">设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/锤子手机/">锤子手机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/闪烁/">闪烁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/阿里巴巴/">阿里巴巴</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高仿/">高仿</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/10天学安卓/" style="font-size: 17.5px;">10天学安卓</a> <a href="/tags/90后/" style="font-size: 10px;">90后</a> <a href="/tags/APP/" style="font-size: 10px;">APP</a> <a href="/tags/Admob/" style="font-size: 10px;">Admob</a> <a href="/tags/Andengine/" style="font-size: 10.83px;">Andengine</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Blur/" style="font-size: 10px;">Blur</a> <a href="/tags/DateTime/" style="font-size: 10px;">DateTime</a> <a href="/tags/FTP/" style="font-size: 10px;">FTP</a> <a href="/tags/QQ/" style="font-size: 10px;">QQ</a> <a href="/tags/SEO/" style="font-size: 10px;">SEO</a> <a href="/tags/Sliding-Menu/" style="font-size: 12.5px;">Sliding Menu</a> <a href="/tags/Widget/" style="font-size: 10px;">Widget</a> <a href="/tags/afinal/" style="font-size: 10px;">afinal</a> <a href="/tags/apple/" style="font-size: 10px;">apple</a> <a href="/tags/db/" style="font-size: 10.83px;">db</a> <a href="/tags/http/" style="font-size: 10.83px;">http</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/iphone/" style="font-size: 10.83px;">iphone</a> <a href="/tags/iwatch/" style="font-size: 10px;">iwatch</a> <a href="/tags/lgame/" style="font-size: 10px;">lgame</a> <a href="/tags/o2o/" style="font-size: 17.5px;">o2o</a> <a href="/tags/shimmer/" style="font-size: 10px;">shimmer</a> <a href="/tags/xutils/" style="font-size: 10px;">xutils</a> <a href="/tags/产品经理/" style="font-size: 10px;">产品经理</a> <a href="/tags/仙剑/" style="font-size: 10px;">仙剑</a> <a href="/tags/侧滑/" style="font-size: 12.5px;">侧滑</a> <a href="/tags/创业/" style="font-size: 12.5px;">创业</a> <a href="/tags/创新/" style="font-size: 10px;">创新</a> <a href="/tags/双十一/" style="font-size: 15px;">双十一</a> <a href="/tags/双十二/" style="font-size: 10px;">双十二</a> <a href="/tags/团购/" style="font-size: 10px;">团购</a> <a href="/tags/图片/" style="font-size: 10.83px;">图片</a> <a href="/tags/在线音乐/" style="font-size: 10px;">在线音乐</a> <a href="/tags/大数据/" style="font-size: 10px;">大数据</a> <a href="/tags/天气预报/" style="font-size: 10px;">天气预报</a> <a href="/tags/安全/" style="font-size: 10px;">安全</a> <a href="/tags/安卓/" style="font-size: 18.33px;">安卓</a> <a href="/tags/安卓入门/" style="font-size: 17.5px;">安卓入门</a> <a href="/tags/安卓开发/" style="font-size: 19.17px;">安卓开发</a> <a href="/tags/安卓教程/" style="font-size: 17.5px;">安卓教程</a> <a href="/tags/小米/" style="font-size: 10px;">小米</a> <a href="/tags/幸福/" style="font-size: 10px;">幸福</a> <a href="/tags/幼教/" style="font-size: 10px;">幼教</a> <a href="/tags/开源/" style="font-size: 15.83px;">开源</a> <a href="/tags/录音/" style="font-size: 10px;">录音</a> <a href="/tags/微信/" style="font-size: 10.83px;">微信</a> <a href="/tags/微商/" style="font-size: 10px;">微商</a> <a href="/tags/快速开发/" style="font-size: 10.83px;">快速开发</a> <a href="/tags/扁平化/" style="font-size: 11.67px;">扁平化</a> <a href="/tags/手游/" style="font-size: 10px;">手游</a> <a href="/tags/推送/" style="font-size: 10px;">推送</a> <a href="/tags/播放器/" style="font-size: 10.83px;">播放器</a> <a href="/tags/效果/" style="font-size: 10px;">效果</a> <a href="/tags/数据库/" style="font-size: 10.83px;">数据库</a> <a href="/tags/日期/" style="font-size: 10px;">日期</a> <a href="/tags/时间/" style="font-size: 10px;">时间</a> <a href="/tags/服务/" style="font-size: 10px;">服务</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a> <a href="/tags/海淘/" style="font-size: 10px;">海淘</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/游戏/" style="font-size: 12.5px;">游戏</a> <a href="/tags/物联网/" style="font-size: 10px;">物联网</a> <a href="/tags/特效/" style="font-size: 13.33px;">特效</a> <a href="/tags/电商/" style="font-size: 16.67px;">电商</a> <a href="/tags/移动互联网/" style="font-size: 11.67px;">移动互联网</a> <a href="/tags/第三方/" style="font-size: 10px;">第三方</a> <a href="/tags/罗永浩/" style="font-size: 10px;">罗永浩</a> <a href="/tags/美空/" style="font-size: 10px;">美空</a> <a href="/tags/职业生涯/" style="font-size: 10px;">职业生涯</a> <a href="/tags/职场/" style="font-size: 10px;">职场</a> <a href="/tags/菜单/" style="font-size: 10.83px;">菜单</a> <a href="/tags/萌萌颜文字/" style="font-size: 10px;">萌萌颜文字</a> <a href="/tags/设计/" style="font-size: 10.83px;">设计</a> <a href="/tags/锤子手机/" style="font-size: 10px;">锤子手机</a> <a href="/tags/闪烁/" style="font-size: 10px;">闪烁</a> <a href="/tags/阿里巴巴/" style="font-size: 10px;">阿里巴巴</a> <a href="/tags/面试/" style="font-size: 10px;">面试</a> <a href="/tags/高仿/" style="font-size: 14.17px;">高仿</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/12/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/11/03/e5-a3-b0-e6-98-8e-ef-bc-9a-e8-af-b7-e7-ab-8b-e5-8d-b3-e5-81-9c-e6-ad-a2-e4-bd-bf-e7-94-a8-e6-9c-ac-e4-ba-ba-e7-9a-84-e7-99-be-e5-ba-a6-e5-9c-b0-e5-9b-beapi-e7-9b-b8-e5-85-b3ak/">声明：请立即停止使用本人的百度地图API相关AK</a>
          </li>
        
          <li>
            <a href="/2015/10/28/e5-bf-83-e6-83-85-e8-ae-b0-e4-ba-8b-e6-9c-ac-ef-bc-8c-e7-8e-b0-e5-b7-b2-e5-bc-80-e6-ba-90/">心情记事本，现已开源</a>
          </li>
        
          <li>
            <a href="/2015/06/19/e6-88-91-e7-9a-84-e5-8a-9b-e4-bd-9c-e8-90-8c-e8-90-8c-e9-a2-9c-e6-96-87-e5-ad-97-ef-bc-8c-e5-a4-a7-e5-ae-b6-e5-a4-9a-e5-a4-9a-e6-94-af-e6-8c-81/">我的力作-萌萌颜文字，大家多多支持</a>
          </li>
        
          <li>
            <a href="/2015/05/05/e5-88-86-e4-ba-ab-e4-b8-80-e4-ba-9b-e5-a5-bd-e7-9a-84android-e5-bc-80-e5-8f-91-e4-b9-a0-e6-83-af/">分享一些好的Android开发习惯</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>